trigger: 
  - main
pr:
  - main

pool:
  vmImage: 'ubuntu-latest'

variables:
  template: azure-variables.yml

stages:
- stage: BuildApplication
  displayName: Build
  jobs:
  - template: templates/build.yaml
    parameters:
      framework: $(framework)
      
- stage: DeployApplication
  displayName: Deploy
  jobs:
  - template: templates/deploy.yaml
    parameters:
      environment: $(environment)
      app_name: $(app_name)
      resource_group_name: $(resource_group_name)
      subscription: $(subscription)
